<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Interview Preparation</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: Arial, sans-serif;
    }
    
    body {
      background-color: #f0f2f5;
      padding: 20px;
      line-height: 1.6;
    }
    
    .card {
      max-width: 800px;
      margin: 0 auto;
      background: white;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      padding: 20px;
    }
    
    h2 {
      color: #4a6bff;
      text-align: center;
      margin-bottom: 10px;
      padding-bottom: 10px;
      border-bottom: 1px solid #eee;
    }
    
    p {
      text-align: center;
      color: #666;
      margin-bottom: 20px;
    }
    
    .button-container {
      display: flex;
      justify-content: center;
      gap: 10px;
      margin-bottom: 20px;
    }
    
    .button {
      padding: 10px 20px;
      background-color: #4a6bff;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-weight: bold;
    }
    
    .button:hover {
      background-color: #3a5bef;
    }
    
    .secondary-button {
      background-color: #f0f2f5;
      color: #333;
    }
    
    .secondary-button:hover {
      background-color: #e0e2e5;
    }
    
    .hidden {
      display: none;
    }
    
    .setup-box, .chat-box, .question-library {
      padding: 20px;
      border-top: 1px solid #eee;
    }
    
    .setup-box h3, .question-library h3 {
      margin-bottom: 15px;
    }
    
    label {
      display: block;
      margin-bottom: 5px;
      font-weight: bold;
    }
    
    select, input {
      width: 100%;
      padding: 10px;
      margin-bottom: 15px;
      border: 1px solid #ddd;
      border-radius: 5px;
    }
    
    .progress-bar {
      height: 10px;
      background-color: #f0f2f5;
      border-radius: 5px;
      margin-bottom: 20px;
    }
    
    .progress {
      height: 100%;
      background-color: #4a6bff;
      border-radius: 5px;
      width: 0%;
      transition: width 0.3s;
    }
    
    .chat-messages {
      height: 300px;
      overflow-y: auto;
      border: 1px solid #eee;
      padding: 15px;
      margin-bottom: 15px;
      border-radius: 5px;
    }
    
    .input-container {
      display: flex;
      gap: 10px;
    }
    
    .chat-input {
      flex: 1;
      padding: 10px;
      border: 1px solid #ddd;
      border-radius: 5px;
    }
    
    .question-list {
      list-style: none;
    }
    
    .question-list li {
      padding: 10px;
      border: 1px solid #eee;
      border-radius: 5px;
      margin-bottom: 10px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .question-list li:hover {
      background-color: #f9f9f9;
    }
    
    .question-filters {
      display: flex;
      gap: 10px;
      margin-bottom: 15px;
    }
    
    .filter-button {
      padding: 8px 15px;
      background-color: #f0f2f5;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
    
    .filter-button.active {
      background-color: #4a6bff;
      color: white;
    }
    
    .action-buttons {
      display: flex;
      justify-content: space-between;
    }
  </style>
</head>
<body>

<div class="card">
  <h2>Interview Preparation</h2>
  <p>Practice with AI-powered mock interviews and get feedback</p>
  
  <div class="button-container">
    <button id="startPracticeBtn" class="button">Start Practice</button>
    <button id="questionLibraryBtn" class="button secondary-button">Question Library</button>
  </div>

  <div id="setup" class="setup-box hidden">
    <h3>Setup Your Interview</h3>
    <label for="category">Choose Category:</label>
    <select id="category">
      <option value="technical">Technical</option>
      <option value="behavioral">Behavioral</option>
      <option value="management">Management</option>
    </select>

    <label for="difficulty">Choose Difficulty:</label>
    <select id="difficulty">
      <option value="beginner">Beginner</option>
      <option value="intermediate">Intermediate</option>
      <option value="advanced">Advanced</option>
    </select>

    <label for="role">Choose Interviewer Role:</label>
    <select id="role">
      <option value="google_recruiter">Google Recruiter</option>
      <option value="startup_ceo">Startup CEO</option>
      <option value="hr_specialist">HR Specialist</option>
    </select>
    
    <button id="startInterviewBtn" class="button">Start Interview</button>
  </div>

  <div id="chat" class="chat-box hidden">
    <div class="progress-bar">
      <div class="progress" id="progress"></div>
    </div>
    
    <div class="chat-messages" id="messages"></div>
    
    <div class="input-container">
      <input type="text" class="chat-input" id="userInput" placeholder="Type your answer...">
      <button id="sendBtn" class="button">Send</button>
    </div>
    
    <div class="action-buttons">
      <button id="skipBtn" class="button secondary-button">Skip Question</button>
      <button id="endBtn" class="button secondary-button">End Interview</button>
    </div>
  </div>

  <div id="library" class="question-library hidden">
    <h3>Interview Questions:</h3>
    
    <div class="question-filters">
      <button class="filter-button active" data-category="all">All</button>
      <button class="filter-button" data-category="technical">Technical</button>
      <button class="filter-button" data-category="behavioral">Behavioral</button>
      <button class="filter-button" data-category="management">Management</button>
    </div>
    
    <ul class="question-list" id="questionList">
      <li data-category="behavioral">
        Tell me about yourself.
        <button class="button secondary-button practice-btn">Practice</button>
      </li>
      <li data-category="behavioral">
        Why should we hire you?
        <button class="button secondary-button practice-btn">Practice</button>
      </li>
      <li data-category="behavioral">
        What are your strengths and weaknesses?
        <button class="button secondary-button practice-btn">Practice</button>
      </li>
      <li data-category="technical">
        Explain your approach to debugging a complex issue.
        <button class="button secondary-button practice-btn">Practice</button>
      </li>
      <li data-category="management">
        How do you handle conflicts in your team?
        <button class="button secondary-button practice-btn">Practice</button>
      </li>
    </ul>
  </div>
</div>

<script>
  // Global variables
  let currentQuestion = 1;
  let totalQuestions = 5;
  let questionsAnswered = 0;
  
  // Questions by category
  const questions = {
    technical: [
      "Explain how you would design a scalable web application.",
      "Describe a challenging technical problem you solved recently.",
      "How do you stay updated with the latest technologies?",
      "Describe your approach to debugging a complex issue.",
      "Explain your experience with cloud technologies."
    ],
    behavioral: [
      "Tell me about yourself.",
      "Describe a situation where you had to work under pressure.",
      "How do you handle criticism?",
      "Tell me about a time you failed and what you learned.",
      "How do you prioritize your work?"
    ],
    management: [
      "How do you motivate team members?",
      "Describe your leadership style.",
      "How do you handle conflicts in your team?",
      "Tell me about a project you led that succeeded.",
      "How do you make difficult decisions?"
    ]
  };
  
  // DOM elements
  const setupSection = document.getElementById('setup');
  const chatSection = document.getElementById('chat');
  const librarySection = document.getElementById('library');
  const messagesContainer = document.getElementById('messages');
  const userInput = document.getElementById('userInput');
  const progressBar = document.getElementById('progress');
  
  // Button event listeners
  document.getElementById('startPracticeBtn').addEventListener('click', function() {
    setupSection.classList.remove('hidden');
    chatSection.classList.add('hidden');
    librarySection.classList.add('hidden');
  });
  
  document.getElementById('questionLibraryBtn').addEventListener('click', function() {
    setupSection.classList.add('hidden');
    chatSection.classList.add('hidden');
    librarySection.classList.remove('hidden');
  });
  
  document.getElementById('startInterviewBtn').addEventListener('click', function() {
    setupSection.classList.add('hidden');
    chatSection.classList.remove('hidden');
    
    // Reset interview state
    messagesContainer.innerHTML = '';
    currentQuestion = 1;
    questionsAnswered = 0;
    updateProgress();
    
    // Get selected category
    const category = document.getElementById('category').value;
    
    // Ask first question
    askQuestion(category);
  });
  
  document.getElementById('sendBtn').addEventListener('click', sendAnswer);
  
  document.getElementById('skipBtn').addEventListener('click', function() {
    const category = document.getElementById('category').value;
    
    messagesContainer.innerHTML += `
      <div style="text-align: right; margin-bottom: 10px;">
        <div style="display: inline-block; background-color: #4a6bff; color: white; padding: 10px; border-radius: 10px;">
          I'd like to skip this question.
        </div>
      </div>
    `;
    
    messagesContainer.innerHTML += `
      <div style="margin-bottom: 10px;">
        <div style="display: inline-block; background-color: #f0f2f5; padding: 10px; border-radius: 10px;">
          No problem, let's move on to the next question.
        </div>
      </div>
    `;
    
    questionsAnswered++;
    updateProgress();
    
    if (questionsAnswered < totalQuestions) {
      currentQuestion++;
      setTimeout(() => {
        askQuestion(category);
      }, 1000);
    } else {
      finishInterview();
    }
  });
  
  document.getElementById('endBtn').addEventListener('click', finishInterview);
  
  // Handle Enter key in input
  userInput.addEventListener('keypress', function(event) {
    if (event.key === 'Enter') {
      sendAnswer();
    }
  });
  
  // Filter buttons in the library
  const filterButtons = document.querySelectorAll('.filter-button');
  filterButtons.forEach(button => {
    button.addEventListener('click', function() {
      // Update active button
      filterButtons.forEach(btn => btn.classList.remove('active'));
      this.classList.add('active');
      
      // Get category to filter
      const category = this.dataset.category;
      
      // Filter questions
      const questionItems = document.querySelectorAll('#questionList li');
      questionItems.forEach(item => {
        if (category === 'all' || item.dataset.category === category) {
          item.style.display = 'flex';
        } else {
          item.style.display = 'none';
        }
      });
    });
  });
  
  // Practice buttons in the library
  const practiceButtons = document.querySelectorAll('.practice-btn');
  practiceButtons.forEach(button => {
    button.addEventListener('click', function() {
      const question = this.parentElement.textContent.trim().replace('Practice', '').trim();
      
      setupSection.classList.add('hidden');
      librarySection.classList.add('hidden');
      chatSection.classList.remove('hidden');
      
      // Reset interview state
      messagesContainer.innerHTML = '';
      totalQuestions = 1;
      currentQuestion = 1;
      questionsAnswered = 0;
      updateProgress();
      
      // Ask the specific question
      messagesContainer.innerHTML += `
        <div style="margin-bottom: 10px;">
          <div style="display: inline-block; background-color: #f0f2f5; padding: 10px; border-radius: 10px;">
            ${question}
          </div>
        </div>
      `;
      
      // Scroll to bottom
      messagesContainer.scrollTop = messagesContainer.scrollHeight;
    });
  });
  
  // Function to ask a question
  function askQuestion(category) {
    const questionPool = questions[category];
    const question = questionPool[Math.floor(Math.random() * questionPool.length)];
    
    messagesContainer.innerHTML += `
      <div style="margin-bottom: 10px;">
        <div style="display: inline-block; background-color: #f0f2f5; padding: 10px; border-radius: 10px;">
          ${question}
        </div>
      </div>
    `;
    
    // Scroll to bottom
    messagesContainer.scrollTop = messagesContainer.scrollHeight;
  }
  
  // Function to send user's answer
  function sendAnswer() {
    const userMessage = userInput.value.trim();
    
    if (userMessage !== '') {
      // Display user message
      messagesContainer.innerHTML += `
        <div style="text-align: right; margin-bottom: 10px;">
          <div style="display: inline-block; background-color: #4a6bff; color: white; padding: 10px; border-radius: 10px;">
            ${userMessage}
          </div>
        </div>
      `;
      
      // Clear input
      userInput.value = '';
      
      // Provide feedback
      const feedback = generateFeedback();
      
      messagesContainer.innerHTML += `
        <div style="margin-bottom: 10px;">
          <div style="display: inline-block; background-color: #f0f2f5; padding: 10px; border-radius: 10px;">
            Thanks for your response.
          </div>
        </div>
      `;
      
      messagesContainer.innerHTML += `
        <div style="margin-bottom: 15px; background-color: #fff8e1; padding: 10px; border-left: 3px solid #ffc107; border-radius: 5px;">
          <strong>Feedback:</strong><br>
          ${feedback}
        </div>
      `;
      
      // Update progress
      questionsAnswered++;
      updateProgress();
      
      // Scroll to bottom
      messagesContainer.scrollTop = messagesContainer.scrollHeight;
      
      // Ask next question or finish
      if (questionsAnswered < totalQuestions) {
        currentQuestion++;
        setTimeout(() => {
          const category = document.getElementById('category').value;
          askQuestion(category);
        }, 1000);
      } else {
        finishInterview();
      }
    }
  }
  
  // Function to generate feedback
  function generateFeedback() {
    const strengths = [
      "Good use of specific examples.",
      "Clear and concise communication.",
      "Well-structured response.",
      "Good focus on results."
    ];
    
    const improvements = [
      "Try to be more specific with your examples.",
      "Consider quantifying your achievements.",
      "Use the STAR method to structure your answer better."
    ];
    
    // Pick random strength and improvement
    const strength = strengths[Math.floor(Math.random() * strengths.length)];
    const improvement = improvements[Math.floor(Math.random() * improvements.length)];
    
    return `<strong>Strength:</strong> ${strength}<br><strong>To improve:</strong> ${improvement}`;
  }
  
  // Function to update progress bar
  function updateProgress() {
    const progress = (questionsAnswered / totalQuestions) * 100;
    progressBar.style.width = progress + '%';
  }
  
  // Function to finish interview
  function finishInterview() {
    messagesContainer.innerHTML += `
      <div style="margin-bottom: 10px;">
        <div style="display: inline-block; background-color: #f0f2f5; padding: 10px; border-radius: 10px;">
          That concludes our interview. Thank you for your time! If you'd like to practice again, please click the "Start Practice" button.
        </div>
      </div>
    `;
    
    // Scroll to bottom
    messagesContainer.scrollTop = messagesContainer.scrollHeight;
  }
</script>

</body>
</html>